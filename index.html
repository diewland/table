<html>
  <head>
    <title>table.js - Demo</title>
  </head>
  <body>
    <h1>table.js - Demo</h1>
    <input id='upd_3' type='button' value='Update 3 rows' />
    <input id='upd_5' type='button' value='Update 5 rows' />
    <br>
    <input id='rpc_3' type='button' value='Replace 3 rows' />
    <input id='rpc_5' type='button' value='Replace 5 rows' />
    <br>
    <input id='reset' type='button' value='Reset' />
    <br>
    <br>
    <table id='demo' border='1'>
      <tr><th>Field 1</th><th>Field 2</th><th>Field 3</th></tr>
      <tr><td>1</td><td>0</td><td>1</td></tr>
      <tr><td>0</td><td>1</td><td>0</td></tr>
      <tr><td>1</td><td>0</td><td>1</td></tr>
      <tr><td>0</td><td>1</td><td>0</td></tr>
    </table>
    <script src='./table.js'></script>
    <script>

      // random data function
      function random_data(row_size, col_size){
        var out = [];
        for(var r=0; r<row_size; r++){
          var row = [];
          for(var c=0; c<col_size; c++){
            row.push(Math.floor(Math.random()*2));
          }
          out.push(row);
        }
        return out;
      }

      // bind buttons
      document.querySelector('#upd_3').addEventListener('click', function(){
        var t = new Table('#demo');
        t.update(random_data(3, 3));
      });
      document.querySelector('#upd_5').addEventListener('click', function(){
        var t = new Table('#demo');
        t.update(random_data(5, 3));
      });
      document.querySelector('#rpc_3').addEventListener('click', function(){
        var t = new Table('#demo', { replace: true });
        t.update(random_data(3, 3));
      });
      document.querySelector('#rpc_5').addEventListener('click', function(){
        var t = new Table('#demo', { replace: true });
        t.update(random_data(5, 3));
      });
      document.querySelector('#reset').addEventListener('click', function(){
        location.reload();
      });

    </script>
  </body>
</html>
